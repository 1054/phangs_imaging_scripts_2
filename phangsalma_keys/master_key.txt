# This is the master key for the PHANGS-ALMA CO survey. It contains
# links to the other files that will be used by the PHANGS
# pipeline. Mostly, multiple keys is fine. The working directories for
# the pipeline itself (key_dir, imaging_root, singledish_root, etc.)
# have to be single valued, however.

# Locations

key_dir        	     	/data/tycho/0/leroy.42/reduction/alma/PHANGS/scripts/phangsalma_keys/
cleanmask_root		/data/tycho/0/leroy.42/reduction/alma/PHANGS/cleanmasks/
imaging_root		/data/tycho/0/leroy.42/reduction/alma/PHANGS/imaging/
postprocess_root	/data/tycho/0/leroy.42/reduction/alma/PHANGS/postprocess/
release_root		/data/tycho/0/leroy.42/reduction/alma/PHANGS/release/
ms_root			/data/tycho/0/leroy.42/reduction/alma/PHANGS/uvdata/
ms_root			/data/young/leroy.42/alma_data/PHANGS/
singledish_root		/data/tycho/0/leroy.42/reduction/alma/PHANGS/singledish/

# Data files

ms_key			ms_file_key.txt
singledish_key		singledish_key.txt
cleanmask_key		cleanmask_key.txt

# Definitions and mapping

config_key		config_definitions.txt
target_key		target_definitions.txt
linmos_key		linearmosaic_definitions.txt
override_key		overrides.txt
dir_key			dir_key.txt

# -------
# key_dir
# -------

# Directory where do these "key" files sit? These are text files that
# define the measurement sets (i.e., the u-v data), directories,
# targets, etc. All keys defined in this file are relative to this
# location.

# --------------
# imaging_root
# --------------

# Root directory where the imaging and data processing will
# occur. There can be only one of these.

# --------------
# cleanmask_root
# --------------

# Root directory clean masks live. There can be only one of these.

# -----------------
# postprocess_root
# -----------------

# Root directory where the cube post-processing will occur. This is
# where, e.g., primary beam correction, feathering, etc. happen. There
# can be only one of these.

# -----------------
# release_root
# -----------------

# Directory where releases are built to. There can be only one of
# these.

# -------
# ms_root
# -------

# The root(s) that will be appended to the directories in the
# ms_file_key. The measurement set key definitions are *relative* to
# these directories. There can be multiple definitions of this. All
# root directories are tried for each measurement set.

# ---------------------
# singledish_root
# ---------------------

# The root(s) that will be appended to the directories in the
# singledish_file_key. The single dish key definitions are *relative*
# to these directories. There can be multiple definitions of this. All
# root directories are tried for each measurement set.

# -------
# ms_key
# -------

# The data file(s) (in path/name relative to key_dir) that list the
# individual u-v data used by the project. This is the full list of
# calibrated u-v data to be ingested by the project and the key maps
# from measurement set to target and array.


# ----------------------
# singledish_key
# ----------------------

# This file maps targets to the associated single dish data
# sets. These are used downstream in feathering to create combined
# total power and interferometric data.

# ----------------------
# cleanmask_key
# ----------------------

# A key to map targets and produts to clean masks. Still to be
# implemented.

# --------------
# config_key
# --------------

# This file defines the configurations of lines, inteferometric
# arrays, and combinations of interferometric and total power data
# looped over by the pipeline. It defines "products" (which are
# spectral data products, like CO 2-1 or continuum) and
# "configurations" (which are combinations of inteferometer and single
# dish data).

# --------------
# target_key
# --------------

# The file containing the centers, velocities, and widths for each
# mosaic. The velocity information is used for gridding, continuum
# extraction, identifying spectral windows, etc.. The position
# information is taken as the phase center of the image during
# imaging.

# ----------------------
# linearmosaic_key
# ----------------------

# This file maps targets to linear mosaics. Linear mosaics combine
# individual targets into a single image as part of
# post-processing. This has some redundancy with the directory key,
# but in theory targets might be processed separately and still
# mosaicked, so the keys both exist but look very similar. In
# principle, the same file could be assigned to both.

# --------------
# overrides
# --------------

# This file contains by hand overrides for the post-processing and
# imaging steps. These are specific things and not required, but,
# e.g., allow a different weighting or cell size for specific data
# sets.

# -------
# dir_key
# -------

# The (optional) mapping between target and directory within the
# working directory. Use this, e.g., to image and process target
# 'ngc3627_1' in the directory 'ngc3627'.
